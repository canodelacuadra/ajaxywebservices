<!DOCTYPE html>
<html  lang="es">
<head>
	<meta charset='utf-8'>
	<title>Primera app ajax</title>
		<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/flatly/bootstrap.min.css" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<script>
function mostrarSugerencias(str) {
    if (str.length == 0) { 
        document.getElementById("textoIndirecto").innerHTML = "";
        return;
    } else {
        var ajaxInfo = new XMLHttpRequest();
        ajaxInfo.onreadystatechange = function() {
            if (ajaxInfo.readyState == 4 && ajaxInfo.status == 200) {
                document.getElementById("textoIndirecto").innerHTML = ajaxInfo.responseText;
            }else{
			 document.getElementById("textoIndirecto").innerHTML = '<i class="fa fa-cog fa-spin"></i>';
			}
        }
        ajaxInfo.open("GET", "irsugerencias.php?q=" + str, true);
        ajaxInfo.send();
    }
}
</script>
</head>
<body>
<div class="container">
<h1>Primera app con AJAX</h1>
<p>Empieza a escribir un nombre en el campo inferior:</p>
<form class=''> 
<div class="form-group">
<label>Nombre: </label>
<input type="text" onkeyup="mostrarSugerencias(this.value)"></div>
</form>
<p class='well'>Sugerimos: <span id="textoIndirecto"></span></p>
</div>
</body>
</html>